# Multi Echo 使用说明

## 功能简介

机器人可以自动复读「被跟随用户」在白名单群中发送的 **以 @某人 开头、且 @ 后紧跟纯数字** 的消息。  
每个机器人账号拥有独立的跟随规则、白名单和延迟设置。

---

## 快速上手

```text
1. 添加主人 123456789        ← 添加管理员（超级管理员操作，可选）
2. 添加群 1234567890          ← 将群加入白名单
3. @机器人 切换跟随总开关      ← 确认总开关已开启
4. 跟随 123456789             ← 设置跟随目标用户
5. 目标用户在群里发送 @某人 987654 → 机器人自动复读
```

> 💡 可随时用 `@机器人 查看状态` 查看当前配置。

---

## 权限说明

| 角色 | 来源 | 能做什么 |
|------|------|----------|
| 超级管理员 | `.env` 中 `SUPERUSER` 配置的 QQ 号 / 机器人自身 | 全部权限，包括管理管理员 |
| 管理员 | 由超级管理员通过命令添加 | 白名单管理、跟随管理、查看状态、设置延迟 |

---

## 命令一览

### 管理员管理（仅超级管理员）

> 📌 在群内发送时，对该群内**所有在线的机器人**生效。

| 命令 | 说明 |
|------|------|
| `添加主人 <QQ号>` | 添加管理员 |
| `删除主人 <QQ号>` | 删除管理员 |

### 白名单管理

> 📌 在群内发送时，对该群内**所有在线的机器人**生效。

| 命令 | 说明 |
|------|------|
| `添加群 <群号>` | 将群加入白名单 |
| `删除群 <群号>` | 将群移出白名单 |

### 跟随管理

> 📌 在群内发送时，对该群内**所有在线的机器人**生效。

| 命令 | 说明 |
|------|------|
| `跟随 <QQ号>` | 跟随指定用户（复读其消息） |
| `取消跟随 <QQ号>` | 取消跟随 |

### 开关与状态（需 @机器人）

| 命令 | 说明 |
|------|------|
| `@机器人 切换跟随总开关` | 开启 / 关闭全局复读功能 |
| `@机器人 查看状态` | 查看在线账号、跟随列表、本群开启状态 |
| `@机器人 查看当前添加群` | 查看白名单群列表 |

### 延迟设置（需 @机器人）

| 命令 | 说明 |
|------|------|
| `@机器人 设置跟随延迟 <毫秒>` | 设置复读延迟（0~30000ms） |

---

## 复读触发条件

以下条件 **全部满足** 时，机器人才会复读：

1. ✅ 跟随总开关已开启
2. ✅ 当前群在机器人白名单内
3. ✅ 发送者已被当前机器人设置为跟随
4. ✅ 消息以 `@某人` 开头（@机器人自身不算）
5. ✅ `@` 后紧跟的文本为 **纯数字**（如 `@某人 12345`）

---

## 常见问题

| 问题 | 原因 |
|------|------|
| 发了 `@某人 abc123` 不复读？ | @ 后的内容必须是**纯数字**，含字母不触发 |
| 群加了跟随但不复读？ | 检查该群是否在白名单内，以及总开关是否开启 |
| 换了个机器人号就不工作了？ | 白名单、跟随、延迟都是**按机器人账号独立存储**的，需分别配置 |
| QQ号/群号提示不合法？ | 号码需为 6~13 位数字且不以 0 开头 |
| 重复添加/删除会怎样？ | 正常返回成功/取消提示，不会报错 |
